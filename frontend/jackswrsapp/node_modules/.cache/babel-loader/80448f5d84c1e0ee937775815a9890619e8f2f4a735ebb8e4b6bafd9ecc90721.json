{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,Link}from'react-router-dom';import axios from'axios';import{Table,Button}from'react-bootstrap';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function InventoryDetails(){const{id}=useParams();const[inventory,setInventory]=useState(null);const[sales,setSales]=useState([]);useEffect(()=>{const fetchInventory=async()=>{try{const res=await axios.get(`http://localhost:3001/api/inventory/${id}`);setInventory(res.data);const salesRes=await axios.get(`http://localhost:3001/api/sales/byContainer/${id}`);setSales(salesRes.data);}catch(err){console.error(err);}};fetchInventory();},[id]);if(!inventory)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Inventory Details\"}),/*#__PURE__*/_jsx(Link,{to:\"/inventory\",children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",children:\"Back to Inventory\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1rem',fontWeight:'bold',marginRight:'0.5rem'},children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'2rem',fontWeight:'bold'},children:inventory.name})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID:\"}),\" \",inventory.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",inventory.status]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date of Purchase:\"}),\" \",inventory.dateOfPurchase?new Date(inventory.dateOfPurchase).toLocaleDateString():'-']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Remarks:\"}),\" \",inventory.remarks]})]}),/*#__PURE__*/_jsxs(\"h4\",{className:\"mt-4\",children:[\"Sales Records for \",inventory.name]}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Customer\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Item\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Qty\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price/Unit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Payment\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Containers\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Remarks\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sales.length>0?sales.sort((a,b)=>new Date(a.date)-new Date(b.date)).map(s=>{var _s$customerId,_s$pricePerUnit,_s$totalAmount;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:new Date(s.date).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:((_s$customerId=s.customerId)===null||_s$customerId===void 0?void 0:_s$customerId.name)||s.customerName||'-'}),/*#__PURE__*/_jsx(\"td\",{children:s.type}),/*#__PURE__*/_jsx(\"td\",{children:s.item}),/*#__PURE__*/_jsx(\"td\",{children:s.quantity}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20B1\",((_s$pricePerUnit=s.pricePerUnit)===null||_s$pricePerUnit===void 0?void 0:_s$pricePerUnit.toFixed(2))||'-']}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20B1\",((_s$totalAmount=s.totalAmount)===null||_s$totalAmount===void 0?void 0:_s$totalAmount.toFixed(2))||'-']}),/*#__PURE__*/_jsx(\"td\",{children:s.paymentMethod}),/*#__PURE__*/_jsx(\"td\",{children:s.status}),/*#__PURE__*/_jsx(\"td\",{children:s.containerIds&&s.containerIds.length>0?s.containerIds.map(c=>c.name||c.id||c._id).join(', '):'-'}),/*#__PURE__*/_jsx(\"td\",{children:s.remarks})]},s._id);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"11\",className:\"text-center\",children:\"No sales records found for this container.\"})})})]})]});}export default InventoryDetails;","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","axios","Table","Button","jsx","_jsx","jsxs","_jsxs","InventoryDetails","id","inventory","setInventory","sales","setSales","fetchInventory","res","get","data","salesRes","err","console","error","children","style","padding","to","variant","className","fontSize","fontWeight","marginRight","name","status","dateOfPurchase","Date","toLocaleDateString","remarks","striped","bordered","hover","responsive","length","sort","a","b","date","map","s","_s$customerId","_s$pricePerUnit","_s$totalAmount","customerId","customerName","type","item","quantity","pricePerUnit","toFixed","totalAmount","paymentMethod","containerIds","c","_id","join","colSpan"],"sources":["D:/GameProjects/JacksWRS App/frontend/jackswrsapp/src/pages/InventoryDetails.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Table, Button } from 'react-bootstrap';\r\n\r\n\r\nfunction InventoryDetails() {\r\n  const { id } = useParams();\r\n  const [inventory, setInventory] = useState(null);\r\n  const [sales, setSales] = useState([]);\r\n\r\nuseEffect(() => {\r\n  const fetchInventory = async () => {\r\n    try {\r\n      const res = await axios.get(`http://localhost:3001/api/inventory/${id}`);\r\n      setInventory(res.data);\r\n\r\n      const salesRes = await axios.get(`http://localhost:3001/api/sales/byContainer/${id}`);\r\n      setSales(salesRes.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n  fetchInventory();\r\n}, [id]);\r\n\r\n\r\n\r\n  if (!inventory) return <p>Loading...</p>;\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <h2>Inventory Details</h2>\r\n      <Link to=\"/inventory\"><Button variant=\"secondary\">Back to Inventory</Button></Link>\r\n\r\n      <div className=\"mt-3\">\r\n        <p>\r\n        <span style={{ fontSize: '1rem', fontWeight: 'bold', marginRight: '0.5rem' }}>Name:</span>\r\n        <span style={{ fontSize: '2rem', fontWeight: 'bold' }}>{inventory.name}</span>\r\n        </p>\r\n        <p><strong>ID:</strong> {inventory.id}</p>\r\n        <p><strong>Status:</strong> {inventory.status}</p>\r\n        <p><strong>Date of Purchase:</strong> {inventory.dateOfPurchase ? new Date(inventory.dateOfPurchase).toLocaleDateString() : '-'}</p>\r\n        <p><strong>Remarks:</strong> {inventory.remarks}</p>\r\n      </div>\r\n\r\n      <h4 className=\"mt-4\">Sales Records for {inventory.name}</h4>\r\n<Table striped bordered hover responsive>\r\n  <thead>\r\n    <tr>\r\n      <th>Date</th>\r\n      <th>Customer</th>\r\n      <th>Type</th>\r\n      <th>Item</th>\r\n      <th>Qty</th>\r\n      <th>Price/Unit</th>\r\n      <th>Total</th>\r\n      <th>Payment</th>\r\n      <th>Status</th>\r\n      <th>Containers</th>\r\n      <th>Remarks</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    {sales.length > 0 ? (\r\n      sales\r\n      .sort((a, b) => new Date(a.date) - new Date(b.date))\r\n      .map(s => (\r\n        <tr key={s._id}>\r\n          <td>{new Date(s.date).toLocaleDateString()}</td>\r\n          <td>{s.customerId?.name || s.customerName || '-'}</td>\r\n          <td>{s.type}</td>\r\n          <td>{s.item}</td>\r\n          <td>{s.quantity}</td>\r\n          <td>₱{s.pricePerUnit?.toFixed(2) || '-'}</td>\r\n          <td>₱{s.totalAmount?.toFixed(2) || '-'}</td>\r\n          <td>{s.paymentMethod}</td>\r\n          <td>{s.status}</td>\r\n          <td>\r\n            {s.containerIds && s.containerIds.length > 0\r\n              ? s.containerIds.map(c => c.name || c.id || c._id).join(', ')\r\n              : '-'}\r\n          </td>\r\n          <td>{s.remarks}</td>\r\n        </tr>\r\n      ))\r\n    ) : (\r\n      <tr>\r\n        <td colSpan=\"11\" className=\"text-center\">No sales records found for this container.</td>\r\n      </tr>\r\n    )}\r\n  </tbody>\r\n</Table>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InventoryDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}